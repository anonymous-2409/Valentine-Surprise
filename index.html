<!DOCTYPE html> 
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Valentine Surprise!üëÄüíñ</title>

<style>
body {
  background: linear-gradient(135deg, #ff758c, #ff7eb3);
  font-family: 'Segoe UI', sans-serif;
  margin: 0;
  min-height: 100vh;
  overflow-y: auto;
  color: white;
}

  .box {
    background: rgba(255,255,255,0.15);
    padding: 25px;
    border-radius: 20px;
    width: 90%;
    max-width: 380px;
    text-align: center;
    box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    z-index: 2;
    position: relative;
    display: none;
    opacity: 0;
    margin: 40px auto;

  }

  button {
    margin: 6px;
    padding: 12px 18px;
    border-radius: 25px;
    border: none;
    background: #ff4b5c;
    color: white;
    font-size: 15px;
    cursor: pointer;
  }

  button.locked {
    background: rgba(255,255,255,0.35);
    cursor: not-allowed;
  }

  .emoji {
    font-size: 40px;
    margin: 10px 0;
  }

.heart {
  position: absolute;
  top: -40px;
  pointer-events: none;

  animation-name: heartRain;
  animation-timing-function: linear;
  animation-fill-mode: forwards;

  filter: drop-shadow(0 0 6px rgba(255,200,220,0.6));
}



 @keyframes heartRain {
  0% {
    transform: translateY(-10vh) translateX(0);
    opacity: 0;
  }
  10% {
    opacity: 0.9;
  }
  100% {
    transform: translateY(110vh) translateX(30px);
    opacity: 0;
  }
}


  .music-btn {
    margin-top: 10px;
    font-size: 13px;
    background: transparent;
    border: 1px solid white;
  }

  .valentine-buttons {
    margin-top: 10px;
    position: relative;
    height: 60px;
  }

  #noBtn {
    position: absolute;
  }

  .firework {
    position: absolute;
    font-size: 24px;
    animation: explode 1.2s ease-out forwards;
  }

  @keyframes explode {
    from { transform: scale(0); opacity: 1; }
    to { transform: scale(2); opacity: 0; }
  }

  #since {
    margin-top: 12px;
    font-size: 13px;
    opacity: 0.95;
    display: none;
  }

  .corner-btn {
    position: fixed;
    top: 15px;
    right: 15px;
    background: rgba(255,255,255,0.25);
    border: none;
    font-size: 20px;
    padding: 10px 14px;
    border-radius: 50%;
    cursor: pointer;
    z-index: 1000;
    transition: background 0.3s;
  }

  .corner-btn:hover {
    background: rgba(255,255,255,0.45);
  }

  #startScreen {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  .start-btn {
    padding: 16px 34px;
    font-size: 20px;
    border-radius: 35px;
    background: #ff4b5c;
    color: white;
    border: none;
    cursor: pointer;
    animation: pulse 1.8s infinite;
    box-shadow: 0 0 0 rgba(255, 75, 92, 0.6);
  }

  @keyframes pulse {
    0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 75, 92, 0.6); }
    70% { transform: scale(1.05); box-shadow: 0 0 0 18px rgba(255, 75, 92, 0); }
    100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 75, 92, 0); }
  }

  .fade-out { animation: fadeOut 0.8s forwards; }
  .fade-in { animation: fadeIn 1s forwards; }

  @keyframes fadeOut { to { opacity: 0; visibility: hidden; } }
  @keyframes fadeIn { from { opacity: 0; transform: scale(0.96); } to { opacity: 1; transform: scale(1); } }

  .start-heart {
    position: fixed;
    font-size: 18px;
    animation: pop 1s ease-out forwards;
    pointer-events: none;
  }

  @keyframes pop {
    from { transform: scale(0); opacity: 1; }
    to { transform: scale(1.6) translateY(-30px); opacity: 0; }
  }

  .sparkle {
    position: fixed;
    font-size: 14px;
    animation: sparklePop 0.9s ease-out forwards;
    pointer-events: none;
  }

  @keyframes sparklePop {
    from { transform: scale(0) rotate(0deg); opacity: 1; }
    to { transform: scale(1.4) rotate(45deg) translateY(-20px); opacity: 0; }
  }

  .focused { transform: scale(1.08); transition: transform 0.5s ease; }
  .hide { display: none !important; }

  .back-btn {
    display: none;
    margin-top: 18px;
    padding: 6px 14px;
    font-size: 13px;
    border-radius: 18px;
    background: rgba(255,255,255,0.25);
    border: 1px solid rgba(255,255,255,0.5);
    color: white;
    cursor: pointer;
  }

  .day-image { width: 180px; max-width: 100%; border-radius: 18px; display: block; position: relative; z-index: 2; }

  .image-glow {
    position: relative;
    display: none;
    width: fit-content;
    margin: 18px auto;
    border-radius: 22px;
  }

  .image-glow::before {
    content: "";
    position: absolute;
    inset: -6px;
    border-radius: 22px;
    padding: 2px;
    background: linear-gradient(90deg, transparent 0%, rgba(255,220,170,1) 50%, transparent 100%);
    mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    mask-composite: exclude;
    -webkit-mask-composite: xor;
    animation: ledSlide 2.6s linear infinite, powerFlicker 4.7s ease-in-out infinite;
    z-index: 1;
  }

  .image-glow::after {
    content: "";
    position: absolute;
    inset: -18px;
    border-radius: 30px;
    background: rgba(255,200,150,0.85);
    filter: blur(30px);
    opacity: 0.9;
    z-index: 0;
    animation: glowBreath 6s ease-in-out infinite;
  }

  @keyframes ledSlide { from { background-position: 0% 0%; } to { background-position: 200% 0%; } }
  @keyframes powerFlicker { 0%{filter:brightness(1.2);} 8%{filter:brightness(1.15);} 15%{filter:brightness(1.25);} 23%{filter:brightness(1.18);} 37%{filter:brightness(1.3);} 52%{filter:brightness(1.22);} 68%{filter:brightness(1.35);} 81%{filter:brightness(1.18);} 100%{filter:brightness(1.25);} }
  @keyframes glowBreath { 0%{filter:blur(30px) brightness(1);} 50%{filter:blur(34px) brightness(1.15);} 100%{filter:blur(30px) brightness(1);} }

  .slide-in { animation: slideIn 0.5s ease forwards; }
  .slide-out { animation: slideOut 0.45s ease forwards; }

  @keyframes slideIn { from { opacity:0; transform:translateY(40px); } to { opacity:1; transform:translateY(0); } }
  @keyframes slideOut { from { opacity:1; transform:translateY(0); } to { opacity:0; transform:translateY(40px); } }

.yes-mode #message {
  font-size: 18px;
  font-weight: 600;
  margin-top: 10px;
  margin-bottom: 18px;
}

.yes-mode #title {
  display: none;
}

.love-letter {
  font-size: 16px;
  line-height: 1.85;
  text-align: left;
  margin-top: 18px;
  padding: 18px;
  background: rgba(255,255,255,0.22);
  border-radius: 16px;
  animation: fadeIn 1.2s forwards;
}

.love-letter p {
  margin-bottom: 18px;
}

.love-letter p {
  opacity: 0;
  transform: translateY(10px);
  animation: paragraphReveal 3.8s ease forwards;
}

.love-letter p:nth-child(1) { animation-delay: 1.1s; }
.love-letter p:nth-child(2) { animation-delay: 1.3s; }
.love-letter p:nth-child(3) { animation-delay: 1.5s; }
.love-letter p:nth-child(4) { animation-delay: 1.7s; }
.love-letter p:nth-child(5) { animation-delay: 1.9s; }
.love-letter p:nth-child(6) { animation-delay: 2.1s; }
.love-letter p:nth-child(7) { animation-delay: 2.3s; }
.love-letter p:nth-child(8) { animation-delay: 2.5s; }
.love-letter p:nth-child(9) { animation-delay: 2.7s; }
.love-letter p:nth-child(10){ animation-delay: 2.9s; }
.love-letter p:nth-child(11){ animation-delay: 3.1s; }
.love-letter p:nth-child(12){ animation-delay: 3.3s; }
.love-letter p:nth-child(13){ animation-delay: 3.5s; }

@keyframes paragraphReveal {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

body.yes-background {
  background-image:
    linear-gradient(
      rgba(0,0,0,0.55),
      rgba(0,0,0,0.55)
    ),
    url("");
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
}

.love-letter p:last-child {
  margin-bottom: 0;
}

.love-letter p:nth-last-child(-n+3) {
  text-align: center;
  font-style: italic;
  opacity: 0.95;
}

/* STEP 1: Cinematic background after Yes */
body.yes-background {
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  animation: bgZoom 30s ease-in-out infinite alternate, bgBreath 6s ease-in-out infinite;
}

/* Slow zoom in/out effect */
@keyframes bgZoom {
  0% { transform: scale(1); }
  100% { transform: scale(1.05); }
}

/* Subtle brightness breathing */
@keyframes bgBreath {
  0%, 100% { filter: brightness(0.92); }
  50% { filter: brightness(1); }
}

/* STEP 2: Love letter glow */
.love-letter {
  position: relative;
  z-index: 2;
  background: rgba(255, 240, 220, 0.15); /* soft glowing background */
  box-shadow: 0 0 30px rgba(255, 200, 150, 0.35);
  backdrop-filter: blur(4px);
  transition: box-shadow 1.2s ease-in-out;
  animation: letterBreath 3s ease-in-out infinite;

}

/* Glowing pulse behind the letter */
.love-letter::before {
  content: '';
  position: absolute;
  inset: -12px;
  border-radius: 18px;
  background: radial-gradient(circle, rgba(255,200,150,0.4), transparent 70%);
  filter: blur(18px);
  z-index: -1;
  animation: letterGlow 3s ease-in-out infinite alternate;
}

@keyframes letterGlow {
  0% { transform: scale(1); opacity: 0.7; }
  50% { transform: scale(1.05); opacity: 0.9; }
  100% { transform: scale(1); opacity: 0.7; }
}

/* Staggered paragraph reveal already exists, just make it smoother */
.love-letter p {
  opacity: 0;
  transform: translateY(12px);
  animation: paragraphReveal 3.8s ease forwards;
}

@keyframes letterBreath {
  0%   { transform: scale(1); }
  50%  { transform: scale(1.01); }
  100% { transform: scale(1); }
}

@keyframes pageWiggle {
  0%   { left: 0; }
  15%  { left: -6px; }
  30%  { left: 6px; }
  45%  { left: -4px; }
  60%  { left: 4px; }
  75%  { left: -2px; }
  100% { left: 0; }
}

.page-wiggle {
  position: relative;
  animation: pageWiggle 0.45s ease;
}


@keyframes countPop {
  0% {
    transform: scale(0.6);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

#explosionScreen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: black;
  display: none;
  justify-content: center;
  z-index: 99999;
}

body.no-scroll {
  overflow: hidden;
}

@keyframes explodeZoom {
  0% { transform: scale(1); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

.explode {
  animation: explodeZoom 0.4s ease-in;
}

@keyframes bombBoom {
  0% {
    transform: scale(0.2);
    opacity: 1;
  }

  50% {
    transform: scale(2.5);
    opacity: 1;
  }

  100% {
    transform: scale(6);
    opacity: 0;
  }
}

.bomb-boom {
  animation: bombBoom 0.6s ease-out forwards;
}

#app {
  width: 100%;
  min-height: 100vh;
}

@keyframes screenShake {
  0% { transform: translate(0); }
  20% { transform: translate(-8px, 6px); }
  40% { transform: translate(8px, -6px); }
  60% { transform: translate(-6px, -8px); }
  80% { transform: translate(6px, 8px); }
  100% { transform: translate(0); }
}


#heart-layer {
  position: fixed;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
  z-index: 0;
}

#app {
  position: relative;
  z-index: 2;
}

#countdown {
  color: #ff0000;
  font-size: 100px;
  font-weight: bold;
  text-align: center;
}

/* FINAL POST-YES OVERLAY FIX */
#postYesOverlay {
  display: flex;
  flex-direction: column;   /* stack text vertically */
  justify-content: center;  /* center top-to-bottom */
  align-items: center;      /* center left-to-right */

  text-align: center;
  padding: 20px;
animation: finalReveal 1.4s ease-out forwards;

}

#postYesOverlay p {
  margin: 14px 0;
  font-size: 28px;
  line-height: 1.4;
}

/* Hide final message lines initially */
#postYesOverlay p {
  opacity: 0;
  transition: opacity 0.6s ease;
}

body.shake {
  animation: screenShake 0.4s infinite;
}

body.shake-soft {
  animation: screenShake 0.8s infinite;
}

body.shake-medium {
  animation: screenShake 0.5s infinite;
}

body.shake-hard {
  animation: screenShake 0.25s infinite;
}

#finalInvite {
  opacity: 0;
  pointer-events: none;

  margin-top: 30px;
  padding: 14px 28px;
  border-radius: 40px;

  font-size: 20px;
  text-decoration: none;

  color: #fff;
  background: linear-gradient(135deg, #ff5fa2, #ff85c1);

  box-shadow: 0 0 18px rgba(255, 105, 180, 0.6);
  transition: opacity 1.5s ease, transform 0.4s ease;
}

#finalInvite.show {
  opacity: 1;
  pointer-events: auto;
}

#finalInvite:hover {
  transform: scale(1.05);
}

/* FINAL MAGIC BUTTON GLOW + HEARTBEAT */
.magic-btn {
  position: relative;
  animation: magicPulse 1.8s infinite;
  box-shadow: 0 0 0 rgba(255, 120, 160, 0.6);
  overflow: visible;
}

/* Soft heartbeat pulse */
@keyframes magicPulse {
  0% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(255,120,160,0.6);
  }
  70% {
    transform: scale(1.08);
    box-shadow: 0 0 0 18px rgba(255,120,160,0);
  }
  100% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(255,120,160,0);
  }
}

/* Floating hearts coming from button */
.magic-btn .btn-heart {
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  font-size: 16px;
  animation: btnHeartFloat 2.5s ease-out forwards;
  pointer-events: none;
}

@keyframes btnHeartFloat {
  0% {
    opacity: 1;
    transform: translateX(-50%) translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateX(-50%) translateY(-60px) scale(1.6);
  }
}

@keyframes finalReveal {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

</style>
</head>

<body>
  <div id="heart-layer"></div>
  <div id="app">
    <!-- EVERYTHING ELSE stays exactly the same -->

<div id="startScreen">
  <button class="start-btn" onclick="startExperience()">
    üíñ Major Minor Pvt. Ltd. üíñ
  </button>
</div>

<div class="box">
  <button id="backBtn" onclick="goBack()" class="back-btn">‚Üê Back</button>
  <h2 id="title">A little valentine week surprise for the love of my life, Meri Pyaari Minor Jiü´∂</h2>

  <div class="image-glow">
    <img id="dayImage" class="day-image" src="https://i.ibb.co/VdG9yTr/hii-jpg.png" alt="I love You <3">
  </div>

  <p id="message">Open this once every day‚Ä¶ no skipping üòå</p>
  <div id="emoji" class="emoji"></div>

  <div id="buttons"></div>
<p id="unlockTimer" style="margin-top:10px; font-size:13px; opacity:0.95; color:#ffe6f0; text-shadow:0 0 6px rgba(255,255,255,0.6);"></p>

  <div id="valentineChoice" class="valentine-buttons" style="display:none;">
    <button onclick="sayYes()">Yes üíñ</button>
    <button id="noBtn" onclick="moveNo()">No üôà</button>
  </div>

  <p id="since"></p>
</div>

<button id="musicBtn" class="corner-btn" onclick="toggleMusic()">üîä</button>

<audio id="bgMusic" loop>
  <source src="https://image2url.com/r2/default/audio/1770388098475-c8234e65-23ca-45e4-8610-2494caf3655a.mp3" type="audio/mpeg">
</audio>


<script>

const yaySound = new Audio("https://image2url.com/r2/default/audio/1770032098032-c95b5e82-b224-42a4-bd56-c3ffe233f26c.mp3");
yaySound.volume = 0.7;

let valentineAccepted = false; // remembers if Yes was clicked

const days = [
  {name:"üåπ Rose Day", image:"https://i.ibb.co/MkVqjwC2/rose-jpg.jpg", text:"Happy Rose Day cutiieee!üòç If I could give you a rose every time you made me smile, you‚Äôd have a 'rose planet' by now.", date:7},
  {name:"üíç Propose Day", image:"https://i.ibb.co/TDXQgRt7/propose-jpg.jpg", text:"Happy Propose Day meri future wife!üíå I don‚Äôt need a big moment. Just you, me, and many tomorrows together.", date:8},
  {name:"üç´ Chocolate Day", image:"https://i.ibb.co/wXFwTcq/chocolate-jpg.jpg", text:"Happy Chocolate Day meri personal KitKat!üòö Life is sweeter with you in it. Chocolate helps too‚Ä¶ but mostly it's you.", date:9},
  {name:"üß∏ Teddy Day", image:"https://i.ibb.co/Kch32bjX/teddy-jpg.jpg", text:"Happy Teddy Day my cozy-cozy soft toy!ü§ó Until we can hug in-person, imagine this teddy as me!", date:10},
  {name:"ü§û Promise Day", image:"https://i.ibb.co/vvzXnDBF/promise-jpg.jpg", text:"Happy Promise Day meri chakudiii!ü§ùI promise to annoy you, protect you, and choose you. Always.", date:11},
  {name:"ü§ó Hug Day", image:"https://i.ibb.co/SD4j2QY0/hug-jpg.jpg", text:"Happy Hug Day Baccha!ü´Ç Close your eyes for a second and imagine me hugging you tight.", date:12},
  { 
    name:"üíã Kiss Day", 
    image:"https://i.ibb.co/LD5jHjfN/kiss.png", 
text:"Happy Kiss Day babyüíã\nAbhi ke liye virtual kisses‚Ä¶ baaki pending üòè",
    date:13 
  },
  {name:"üíã Valentine‚Äôs Day", image:"https://i.ibb.co/rRTwGzX0/valentine-jpg.jpg", text:"Haanji madamji, so finally the time has come to ask you... Meri cute si, pyaari si, masoom si Minor Jii‚Ä¶ will you be my Valentine? üíï", date:14}
];

let startTime = localStorage.getItem("valentineStartTime");

if (!startTime) {
  startTime = Date.now();
  localStorage.setItem("valentineStartTime", startTime);
}

startTime = parseInt(startTime);
const now = Date.now();
const msInDay = 24 * 60 * 60 * 1000;
const unlockedDays = Math.floor((now - startTime) / msInDay) + 1;
const timerEl = document.getElementById("unlockTimer");

function updateUnlockTimer() {
  const elapsed = Date.now() - startTime;
  const nextUnlockIn = msInDay - (elapsed % msInDay);

  if (unlockedDays >= days.length) {
    timerEl.innerText = "";
    return;
  }

  let totalSeconds = Math.floor(nextUnlockIn / 1000);
  const hrs = Math.floor(totalSeconds / 3600);
  totalSeconds %= 3600;
  const mins = Math.floor(totalSeconds / 60);
  const secs = totalSeconds % 60;

  timerEl.innerText =
    `‚è≥ Next unlock in: ${hrs.toString().padStart(2,"0")}:${mins.toString().padStart(2,"0")}:${secs.toString().padStart(2,"0")}`;
}

setInterval(updateUnlockTimer, 1000);
updateUnlockTimer();


const buttonContainer = document.getElementById("buttons");

days.forEach((day, index) => {
  const btn = document.createElement("button");
  btn.innerText = day.name;

  if (index < unlockedDays) {
    btn.onclick = () => showDay(index);
  } else {
    btn.classList.add("locked");
    btn.innerText += " üîí";
  }

  buttonContainer.appendChild(btn);
});


function setImage(src){
  const img = document.getElementById("dayImage");
  const glowBox = document.querySelector(".image-glow");
  img.src = src;
  glowBox.style.display = "block";
}

function showDay(index) {
  const day = days[index];
  const box = document.querySelector(".box");

  box.classList.remove("slide-in");
  box.classList.add("slide-out");

  setTimeout(() => {
    document.getElementById("title").innerText = day.name;
    document.getElementById("message").innerText = day.text;

    setImage(day.image);

    document.getElementById("buttons").classList.add("hide");
    document.getElementById("backBtn").style.display = "inline-block";
    document.getElementById("valentineChoice").style.display = day.date===14?"block":"none";

    box.classList.remove("focused");
    void box.offsetWidth;

    box.classList.remove("slide-out");
    box.classList.add("slide-in", "focused");
  }, 420);
}

function moveNo() {

// Play playful "nope" sound
const nopeSound = new Audio("https://image2url.com/r2/default/audio/1770211171549-c3488aa2-8c07-4757-8308-10ceb54982d5.mp3");
nopeSound.volume = 1.0;
nopeSound.play();

// Page wiggle (safe)
document.body.classList.remove("page-wiggle");
void document.body.offsetWidth;
document.body.classList.add("page-wiggle");

  const btn = document.getElementById("noBtn");
  const x = Math.random() * 120 - 60;
  const y = Math.random() * 30 - 15;
  btn.style.transform = `translate(${x}px, ${y}px)`;
  document.getElementById("message").innerText = "Meri natkhat Minorr Jiii... that's the wrong button! Try againü§™";
}

function sayYes() {
  valentineAccepted = true;
yaySound.currentTime = 0;
yaySound.play();

// Set background image to Valentine's image
document.body.style.backgroundImage =
  `linear-gradient(rgba(0,0,0,0.55), rgba(0,0,0,0.55)), url(${days[7].image})`;
document.body.classList.add("yes-background");

  const box = document.querySelector(".box");
  box.classList.add("yes-mode");

  document.getElementById("message").innerText =
    "YAYYY I knew it!üíñ Hehehe... You just made my whole world brighter once again babygirl :) ";

  document.getElementById("emoji").innerText = "ü•∞üíò";
  document.getElementById("valentineChoice").style.display = "none";

  // Hide the image
  document.querySelector(".image-glow").style.display = "none";

  // Add love letter
  const letter = document.createElement("div");
  letter.className = "love-letter";
 letter.innerHTML = `
  <p>Dearest Minor Ji üíå</p>

  <p>
    I don‚Äôt think you realise what you truly mean to me.
    Somewhere between your laughter, your silence, and the way you exist so effortlessly,
    you became my safest place. Kabhi kabaar draame bhi karti ho,
    but usme bhi ek alag mazza hai üòú
  </p>

  <p>
    You are not just someone I love.
    You are someone I choose, every single day, even on the hardest ones.
    Hasi mazzak, ladayi, aur unlimited massttii‚Ä¶
    sab kuch extra special bann gaya hai, and you‚Äôre the sole reason!ü´∂
  </p>

  <p>
    With you, love doesn‚Äôt feel loud or forced.
    It feels calm. Certain. Like home.
    A home that everyone dreams of ‚ú®
  </p>

  <p>
    And if loving you is something I get to do for the rest of my life,
    then honestly‚Ä¶ I‚Äôve already wonüíê
  </p>

  <p>
    If long distance mein hi aisa jaadu ho gaya,
    I wonder how heavenly it‚Äôll be when the distance becomes zero.ü¶ã‚ú®
    Can‚Äôt wait to meet you meri cutiepie! üç∞
  </p>

  <p>
    You are the best thing that has ever happened to me sweetheart.
    And this title only belongs to you :)
    (Mere life koi exam hoti, toh aap hi ho meri AIR-1 aur vo bhi hamesha ke liyeü•∞üéâ)
  </p>

  <p>
   Vaise toh my actions must've conveyed this to you, so bolna toh necessary nahi hai;
   Lekin mai toh bolunga aur bolta rahunga hamesha... </p>
  <p>My heart is dancing in joy and sings to you just one thing... I love you a lot Minor Ji! üíù</p>
  <p>You‚Äôll be my cutuuuu sa baccha forever ü•∞‚ôæÔ∏èüíóüßø</p>
 

  <p>Yours truly,</p>
  <p>Major Jiüòä</p>
  <p>(With lots of hugsü§óand kissesüíã!)</p>

`;


  box.appendChild(letter);

  showSinceDate();
}


function showSinceDate() {
  const startDate = new Date("2025-05-27");
  const now = new Date();
  const daysTogether = Math.ceil((now - startDate) / (1000*60*60*24));
  const since = document.getElementById("since");
  since.innerText = `Officially together since 27 May 2025 ‚ù§Ô∏è ‚Ä¢ ${daysTogether} days and counting`;
  since.style.display = "block";
}

function fireworkBurst() {
  for (let i=0;i<30;i++){
    const fw = document.createElement("div");
    fw.className="firework";
    fw.innerText="üíó";
    fw.style.left=Math.random()*100+"vw";
    fw.style.top=Math.random()*60+"vh";
    document.body.appendChild(fw);
    setTimeout(()=>fw.remove(),1200);
  }
}

function createHeart(){
  const heart = document.createElement("div");
  heart.className = "heart";
  heart.innerText = Math.random() > 0.5 ? "üíó" : "üíñ";

  heart.style.left = Math.random() * 100 + "vw";
  heart.style.fontSize = (14 + Math.random() * 18) + "px";

  const duration = 5 + Math.random() * 5;
  heart.style.animationDuration = duration + "s";

  document.getElementById("heart-layer").appendChild(heart);

  setTimeout(() => heart.remove(), duration * 1000);
}

setInterval(createHeart,50);

const music=document.getElementById("bgMusic");
const musicBtn=document.getElementById("musicBtn");
musicBtn.innerText="üîä";

function toggleMusic(){
  if(music.paused){ music.play(); musicBtn.innerText="üîä"; }
  else { music.pause(); musicBtn.innerText="üîá"; }
}

function startExperience(){
  const startScreen=document.getElementById("startScreen");
  const box=document.querySelector(".box");

  startScreen.classList.add("fade-out");

  for(let i=0;i<20;i++){
    const heart=document.createElement("div");
    heart.className="start-heart";
    heart.innerText="üíó";
    heart.style.left=50+Math.random()*20-10+"vw";
    heart.style.top=50+Math.random()*20-10+"vh";
    document.body.appendChild(heart);
    setTimeout(()=>heart.remove(),2000);

    const sparkle=document.createElement("div");
    sparkle.className="sparkle";
    sparkle.innerText="‚ú®";
    sparkle.style.left=50+Math.random()*30-15+"vw";
    sparkle.style.top=50+Math.random()*30-15+"vh";
    document.body.appendChild(sparkle);
    setTimeout(()=>sparkle.remove(),2000);
  }

  setTimeout(()=>{
    startScreen.style.display="none";
    box.style.display="block";
    box.classList.add("fade-in");

    setImage("https://i.ibb.co/VdG9yTr/hii-jpg.png");

    music.play();
    musicBtn.innerText="üîä";
  },800);
}

function goBack() {
  if (valentineAccepted) {
    postYesBack();
    return;
  }

  const box = document.querySelector(".box");

  box.classList.remove("slide-in");
  box.classList.add("slide-out");

  setTimeout(() => {
    const img = document.getElementById("dayImage");
    const glowBox = document.querySelector(".image-glow");

    document.getElementById("title").innerText =
      "A little valentine week surprise for the love of my life, Meri Pyaari Minor Jiü´∂";
    document.getElementById("message").innerText =
      "Open this once every day‚Ä¶ no skipping üòå";

    img.src = "https://i.ibb.co/VdG9yTr/hii-jpg.png";
    glowBox.style.display = "block";

    document.getElementById("buttons").classList.remove("hide");
    document.getElementById("backBtn").style.display = "none";
    document.getElementById("valentineChoice").style.display = "none";
    document.getElementById("since").style.display = "none";
    document.getElementById("emoji").innerText = "";

    box.classList.remove("focused");
    box.classList.remove("slide-out");
    box.classList.add("slide-in");
  }, 420);
}

function shakeScreen() {
  document.body.classList.add("shake");
}

function postYesBack() {

yaySound.pause();
yaySound.currentTime = 0;

document.body.style.height = "100vh";
document.body.style.overflow = "hidden";

  // 1Ô∏è‚É£ Stop all sounds
  document.getElementById("bgMusic").pause();
  document.getElementById("bgMusic").currentTime = 0;

  if (window.yaySound) {
    window.yaySound.pause();
    window.yaySound.currentTime = 0;
  }

  // 2Ô∏è‚É£ Create full-screen overlay
  const overlay = document.createElement("div");
  overlay.id = "postYesOverlay";
  overlay.style.position = "fixed";
  overlay.style.top = "0";
  overlay.style.left = "0";
  overlay.style.width = "100vw";
  overlay.style.height = "100vh";
  overlay.style.background = "black";
  overlay.style.zIndex = "9999";
  overlay.style.display = "flex";
  overlay.style.alignItems = "center";
  overlay.style.justifyContent = "center";
  overlay.style.fontSize = "80px";
  overlay.style.fontFamily = "sans-serif";
  document.body.appendChild(overlay);
  document.getElementById("app").style.display = "none";

  // 3Ô∏è‚É£ Countdown setup
  const countdown = ["THREE", "TWO", "ONE"];
  let index = 0;

  const countdownSound = new Audio("https://image2url.com/r2/default/audio/1770216334966-d1333d7e-c00b-41b8-b0ea-e95ca981ad67.mp3");
  countdownSound.volume = 0.7;
  setTimeout(() => countdownSound.pause(), 300);

  const timer = setInterval(() => {

    overlay.textContent = countdown[index];
    overlay.style.color = "red";
    countdownSound.currentTime = 0;
    countdownSound.play();

    // Remove all shakes first
    document.body.classList.remove("shake-soft", "shake-medium", "shake-hard");
    
    // Add stronger shake each step
    if (index === 0) {
      document.body.classList.add("shake-soft");   // THREE
    }
    if (index === 1) {
      document.body.classList.add("shake-medium"); // TWO
    }
    if (index === 2) {
      document.body.classList.add("shake-hard");   // ONE
    }
    
    index++;


    if (index >= countdown.length) {
      clearInterval(timer);

      // 4Ô∏è‚É£ Bomb blast

      setTimeout(() => {
	const bomb = document.createElement("div");
	bomb.innerText = "üí£";
	document.body.appendChild(bomb);

	// STRONG SCREEN SHAKE
	document.body.classList.add("shake");

	bomb.style.position = "fixed";
	bomb.style.left = "50%";
	bomb.style.top = "50%";
	bomb.style.transform = "translate(-50%, -50%) scale(0.2)";
	bomb.style.fontSize = "120px";
	bomb.style.zIndex = "10000";
	bomb.style.transition = "transform 0.6s ease-out";

	// Force browser to notice initial state
	bomb.offsetHeight;
	
	// BIG EXPLOSION SCALE
	bomb.style.transform = "translate(-50%, -50%) scale(8)";


        const blastSound = new Audio("https://image2url.com/r2/default/audio/1770212986952-dc4f44c1-f0d2-44d0-b069-b80e89fbc139.mp3");
        blastSound.volume = 0.9;
        blastSound.play();

document.body.classList.remove("shake-soft", "shake-medium", "shake-hard");

        // 5Ô∏è‚É£ White flash
        setTimeout(() => {
	  bomb.remove();
          overlay.style.background = "white";
          overlay.textContent = "";

          // White screen sound
          const whiteSound = new Audio("https://image2url.com/r2/default/audio/1770288724755-85895459-4875-4a10-92f6-64c5dbdb0bb7.mp3");
          whiteSound.volume = 0.6;
          whiteSound.play();

document.body.classList.remove("shake");

          // 6Ô∏è‚É£ Final message
          setTimeout(() => {

           whiteSound.pause();
           whiteSound.currentTime = 0;

            overlay.style.background = "black";
            overlay.style.color = "red";
            overlay.style.fontSize = "28px";
            overlay.style.textAlign = "center";
         overlay.innerHTML = `
  <p>HAHAHAHA üòà</p>
  <p>You really thought you could escape?</p>
  <p>THERE'S NO GOING BACK FROM HERE BABYYGIRRLL üòºüòΩ!!!</p>

  <p style="margin-top:40px; font-size:22px;">
    <strong>Now for the final act:</strong><br>
    Get ready baby‚Ä¶ You now belong only to Major Ji for the next few hours (and also for lifetime hehe) üòºüíó
  </p>


<a id="finalInvite" class="magic-btn" href="https://meet.google.com/jqc-ujwf-fts" target="_blank">
 üóù Enter Our Private Space üíå
</a>

`;


const lines = overlay.querySelectorAll("p");

lines.forEach((line, index) => {
  setTimeout(() => {
    line.style.opacity = "1";
  }, index * 1200); // 1.2s gap between lines
});

            overlay.style.alignItems = "center";
            overlay.style.justifyContent = "center";
            overlay.style.textAlign = "center";

const inviteBtn = document.getElementById("finalInvite");

setTimeout(() => {
  inviteBtn.classList.add("show");
}, lines.length * 1200 + 500);


            const evilLaugh = new Audio("https://image2url.com/r2/default/audio/1770289384170-fa80fcd0-a198-4731-9a56-d08edc7cd830.mp3");
            evilLaugh.volume = 0.8;
            evilLaugh.play();
            // Sound after evil laugh
            const afterLaughSound = new Audio("https://image2url.com/r2/default/audio/1770289641296-29f01f2b-769d-4ffd-9801-2931d6dd822a.mp3");
            afterLaughSound.volume = 0.7;
            
            // Play ONLY after evil laugh ends
            evilLaugh.onended = () => {
              afterLaughSound.play();
            };

          }, 3000);

        }, 500);

      }, 600);
    }

  }, 900);
}

function spawnButtonHeart(btn) {
  const heart = document.createElement("div");
  heart.className = "btn-heart";
  heart.innerText = Math.random() > 0.5 ? "üíñ" : "üíó";
  btn.appendChild(heart);

  setTimeout(() => heart.remove(), 2500);
}

setInterval(() => {
  const btn = document.querySelector(".magic-btn");
  if (btn) spawnButtonHeart(btn);
}, 900);


</script>
</body>
</html>
